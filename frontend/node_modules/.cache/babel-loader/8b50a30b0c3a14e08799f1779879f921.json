{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pasan\\\\Videos\\\\PersonalProject\\\\HANSALAKA_FINE_ART\\\\frontend\\\\src\\\\component\\\\admin\\\\PostTable.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport './PostTable.css';\nimport { GetImgPreview } from '../user/GetImgPreview';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { UserContext } from \"../user/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PostTable(probs) {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  console.table(probs.products);\n  const products = probs.products;\n  const {\n    model,\n    setmodel,\n    tempImg,\n    settempImg\n  } = useContext(GetImgPreview);\n\n  function setimg(img) {\n    settempImg(img);\n    setmodel(true);\n  }\n\n  function GetLikeCount(id) {\n    _s();\n\n    const [count, setcount] = useState(\"\");\n    axios.get(`http://localhost:8989/api/like/get_like_count/${id}`).then(res => {\n      console.log(res.data.count);\n      setcount(res.data.count);\n    }).catch(error => console.log(error));\n    return count;\n  }\n\n  _s(GetLikeCount, \"p2kVGPDJtO8dHFk57Oyu5LPqf+E=\");\n\n  function deletePost(id, src, path) {\n    notify(id, src, path);\n  }\n\n  const notify = (id, src, path) => {\n    toast.error(yesno(id, src, path), {\n      position: \"top-center\",\n      autoClose: false,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  };\n\n  const yesno = (Id, src, Path) => {\n    console.log({\n      Src: src\n    });\n\n    function clickYes(ids, paths) {\n      axios.post(`http://localhost:8989/product/delete`, {\n        id: ids,\n        path: paths\n      }).then(data => {\n        notify2(\"Delete successfuly.\");\n      }).catch(err => {\n        console.log(err.response);\n      });\n    }\n\n    const notify2 = messege => {\n      toast.success(`${messege}`, {\n        position: \"top-right\",\n        autoClose: true,\n        hideProgressBar: false,\n        closeOnClick: false,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"yesno-ul\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"yesno-img\",\n            src: src\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Are you sure to delete this?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"yesno-ul \",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-success\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-danger\",\n            onClick: () => {\n              clickYes(Id, Path);\n            },\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  };\n\n  const {\n    User,\n    setUser\n  } = useContext(UserContext);\n\n  function onUpdate(Product) {\n    console.log(Product);\n    window.location.replace();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"table table-success table-striped cu-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"views\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Likes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: products.map((product, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"row\",\n            children: index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"table-img\",\n              src: `http://localhost:8989/api/${product.productImage}`,\n              onClick: () => {\n                setimg(`http://localhost:8989/api/${product.productImage}`);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-title\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: product.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: product.likes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: GetLikeCount(product._id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: product.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: product.size\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-icon-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-edit\",\n                type: \"update\",\n                onClick: () => {\n                  onUpdate(product);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 53\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-trash-alt\",\n                type: \"delete\",\n                alt: \"Delete\",\n                onClick: () => {\n                  deletePost(product._id, `http://localhost:8989/api/${product.productImage}`, product.productImage);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 53\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(PostTable, \"OqYObWvOLp3mTmaxc40dWA+WPxA=\");\n\n_c = PostTable;\nexport default PostTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostTable\");","map":{"version":3,"sources":["C:/Users/pasan/Videos/PersonalProject/HANSALAKA_FINE_ART/frontend/src/component/admin/PostTable.js"],"names":["React","useContext","useState","GetImgPreview","axios","ToastContainer","toast","UserContext","PostTable","probs","console","table","products","model","setmodel","tempImg","settempImg","setimg","img","GetLikeCount","id","count","setcount","get","then","res","log","data","catch","error","deletePost","src","path","notify","yesno","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Id","Path","Src","clickYes","ids","paths","post","notify2","err","response","messege","success","User","setUser","onUpdate","Product","window","location","replace","map","product","index","productImage","title","likes","_id","category","size"],"mappings":"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","sourcesContent":["import React,{useContext,useState} from 'react'\r\nimport './PostTable.css'\r\nimport {GetImgPreview} from '../user/GetImgPreview';\r\nimport axios from 'axios';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {UserContext} from \"../user/UserContext\";\r\n\r\n\r\nfunction PostTable(probs) {\r\n    console.table(probs.products)\r\n    const products = probs.products;\r\n    const {model,setmodel,tempImg,settempImg} = useContext(GetImgPreview);\r\n\r\n    function setimg(img){\r\n        settempImg(img);\r\n        setmodel(true);\r\n    }\r\n    function GetLikeCount(id){\r\n        \r\n        const [count, setcount] = useState(\"\")\r\n        axios.get(`http://localhost:8989/api/like/get_like_count/${id}`)\r\n        .then((res)=>{\r\n            console.log(res.data.count);\r\n            setcount(res.data.count)  \r\n            \r\n        } )\r\n        .catch(error => console.log(error));\r\n        return(count);\r\n    }\r\n    function deletePost(id,src,path){\r\n        notify(id,src,path)\r\n    }\r\n\r\n    const notify = (id,src,path) => {\r\n        toast.error(yesno(id,src,path),{\r\n            position: \"top-center\",\r\n            autoClose: false,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n        \r\n        })\r\n    };\r\n    const yesno =(Id,src,Path)=>{\r\n        console.log({Src:src})\r\n        function clickYes(ids,paths){\r\n            \r\n            \r\n            axios.post(`http://localhost:8989/product/delete`,{id:ids,path:paths})\r\n            .then((data)=>{\r\n                notify2(\"Delete successfuly.\")\r\n            }).catch((err)=>{\r\n                console.log(err.response)\r\n            })\r\n\r\n        }\r\n        const notify2 = (messege) => {\r\n            toast.success(`${messege}`,{\r\n                position: \"top-right\",\r\n                autoClose: true,\r\n                hideProgressBar: false,\r\n                closeOnClick: false,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n            \r\n            })\r\n    };\r\n\r\n\r\n        return(\r\n            <div>\r\n                <ul className='yesno-ul'>\r\n                    <li>\r\n                        <img className='yesno-img' src={src}/>\r\n                    </li>\r\n                    <li>\r\n                        <p>Are you sure to delete this?</p>\r\n                    </li>\r\n                </ul>\r\n                <ul className='yesno-ul '>\r\n                    <li>\r\n                        <button type=\"button\" class=\"btn btn-success\">No</button>\r\n                    </li>\r\n                    <li>\r\n                        <button type=\"button\" class=\"btn btn-danger\" onClick={()=>{\r\n                            clickYes(Id,Path) \r\n                        }}>Yes</button>\r\n                    </li>\r\n                </ul>\r\n                \r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const {User, setUser } = useContext(UserContext);\r\n    function onUpdate(Product){\r\n        console.log(Product)\r\n        window.location.replace()\r\n    }\r\n    return (\r\n        <div>\r\n            <table class=\"table table-success table-striped cu-table\">\r\n                    <thead>\r\n                        <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">image</th>\r\n                        <th scope=\"col\">Title</th>\r\n                        <th scope=\"col\">views</th>\r\n                        <th scope=\"col\">Likes</th>\r\n                        <th scope=\"col\">Category</th>\r\n                        <th scope=\"col\">Size</th>\r\n                        <th scope=\"col\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            products.map((product,index)=>(\r\n\r\n                                <tr>\r\n                                    <th scope=\"row\">{index+1}</th>\r\n                                        <td>\r\n                                            {\r\n                                                <img className='table-img' src={`http://localhost:8989/api/${product.productImage}`} onClick={()=>{\r\n                                                    setimg(`http://localhost:8989/api/${product.productImage}`)\r\n                                                }}/>\r\n\r\n                                            }\r\n                                        </td>\r\n                                        <td className='td-title'>\r\n                                            <p>{product.title}</p>\r\n                                        </td>\r\n                                        <td>\r\n                                            <p>{product.likes}</p>\r\n                                            \r\n                                        </td>\r\n                                        <td>\r\n                                            <p>{GetLikeCount(product._id)}</p>\r\n                                            \r\n                                        </td>\r\n                                        <td>\r\n                                            <p>{product.category}</p>\r\n                                            \r\n                                        </td>\r\n                                        <td>\r\n                                            <p>{product.size}</p>\r\n                                            \r\n                                        </td>\r\n                                        <td>\r\n                                            {\r\n                                                <div className='table-icon-div' >\r\n                                                    <i class=\"fas fa-edit\" type='update' onClick={()=>{\r\n                                                        onUpdate(product);\r\n                                                    }}></i>\r\n                                                    <i class=\"fas fa-trash-alt\" type='delete' alt=\"Delete\" onClick={()=>{\r\n                                                        deletePost(product._id,`http://localhost:8989/api/${product.productImage}`,product.productImage)\r\n                                                    }}></i>\r\n\r\n                                                </div>\r\n\r\n                                            }\r\n                                            \r\n                                        </td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                        \r\n                    </tbody>\r\n                </table>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostTable\r\n"]},"metadata":{},"sourceType":"module"}